<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>pra minha lalinha</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
<style>
  :root {--bg:#000;--text:#fff;}
  *{margin:0;padding:0;box-sizing:border-box;}
  html,body{
    height:100%;width:100%;
    background:var(--bg);color:var(--text);
    font-family:'Inter',sans-serif;
    overflow:hidden;display:flex;align-items:center;justify-content:center;
  }
  #start{
    position:absolute;inset:0;display:flex;align-items:center;justify-content:center;
    background:#000;flex-direction:column;z-index:10;
  }
  #start button{
    font-size:1.1rem;font-weight:600;
    color:#000;background:#fff;border:none;border-radius:8px;
    padding:14px 32px;cursor:pointer;transition:transform .3s ease;
  }
  #start button:hover{transform:scale(1.05);}
  .stage{position:absolute;inset:0;overflow:hidden;display:flex;align-items:center;justify-content:center;}
  .image-wrap{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;z-index:0;}
  .image-wrap img{
    width:85%;max-width:900px;border-radius:10px;
    box-shadow:0 30px 80px rgba(0,0,0,.6);
    opacity:0;transition:opacity 1s ease;
  }
  .image-wrap img.show{opacity:1;}
  .dark-overlay{
    position:absolute;inset:0;
    background:linear-gradient(180deg,rgba(0,0,0,0.6),rgba(0,0,0,0.85));
    z-index:1;
  }
  .text-frame{
    position:relative;z-index:2;
    max-width:720px;width:90%;height:80vh;
    padding:32px;overflow:hidden;
  }
  .text-scroll{height:100%;overflow:auto;scroll-behavior:auto;}
  .text-scroll p{
    font-size:1rem;line-height:1.7;color:#eee;
    margin-bottom:1.1em;
  }
  .fade-end{
    position:absolute;inset:0;background:linear-gradient(180deg,rgba(0,0,0,0),#000);
    opacity:0;transition:opacity 1s ease;z-index:5;
  }
  .fade-end.show{opacity:1;}
</style>
</head>
<body>

<!-- tela inicial -->
<div id="start">
  <button id="beginBtn">começar</button>
</div>

<div class="stage" id="stage">
  <div class="image-wrap" id="imageWrap">
    <img id="img1" src="foto1.jpg" alt="">
    <img id="img2" src="foto2.jpg" alt="">
    <img id="img3" src="foto3.jpg" alt="">
    <img id="img4" src="foto4.jpg" alt="">
    <img id="img5" src="foto5.jpg" alt="">
    <img id="img6" src="foto6.jpg" alt="">
  </div>

  <div class="dark-overlay"></div>

  <div class="text-frame">
    <div class="text-scroll" id="textScroll">
      <p>pra minha lalinha.
ou larovski. namurada. paixão. amô. nabinho.</p>

      <p>é tão leve com você que até parece estranho tentar escrever algo sério.
parece que nos conhecemos há tanto tempo que até esqueço que teve um antes
porque, de algum jeito, desde que você chegou, tudo passou a fazer mais sentido.</p>

      <p>seis meses, paixão.
seis meses que a gente se tem e a minha vida já não existe mais sem você dentro dela.
você virou rotina, virou pensamento constante, virou meu porto seguro.
os momentos difíceis vêm e vão, mas basta lembrar de você pra tudo ficar um pouco mais leve, mais real.</p>

      <p>penso nas viagens que ainda temos pra fazer, nos filmes que prometemos ver e sempre deixamos pra depois, no nosso passeio de bicicleta.
penso em você me inspecionando, rindo do meu jeito distraído.
penso no seu sorriso, nas nossas piadas internas, nas nossas bobeiragens que só a gente entende.</p>

      <p>você me faz sentir inteiro.
mais que isso, compreendido.
e isso, pra mim, é raro.
sempre me senti meio deslocado, meio fora de lugar, como se o mundo fosse sempre um pouco grande demais pra caber direito em mim.
mas aí vem você, com teu carinho, tua sinceridade, tua forma tão genuína e tão bonita de estar no mundo,
e tudo se encaixa.
me sinto no meu lugar. contigo.</p>

      <p>não me vejo mais sem o seu cheirinho, sem a sua voz que me acalma,
sem o jeito que você fala meu nome, sem nossas conversas que duram horas e parecem minutos.
sem o teu toque, teu olhar, tua risada.
sem as nossas bobeiragens, sem nosso amor, sem você.</p>

      <p>quero que seis meses sejam apenas uma gotinha do oceano de tempo que vamos ter juntos.</p>

      <p>te amo mais que tudo, paixão.</p>
    </div>
  </div>
  <div class="fade-end" id="fadeEnd"></div>
</div>

<audio id="bgAudio" src="musica.mp3" preload="auto"></audio>

<script>
const btn = document.getElementById('beginBtn');
const startScreen = document.getElementById('start');
const audio = document.getElementById('bgAudio');
const textScroll = document.getElementById('textScroll');
const imgs = [...document.querySelectorAll('.image-wrap img')];
const fadeEnd = document.getElementById('fadeEnd');

const totalDuration = 107000; // 1min47s
const fadeOutDuration = 4000;
const imgCount = imgs.length;
const imgSwitch = totalDuration / imgCount;

let started = false;

// inicia áudio com fade in (compatível iOS)
btn.onclick = async ()=>{
  startScreen.style.display='none';
  try { await audio.play(); } catch(e){ console.log('iOS bloqueou, tentando desbloqueio'); }
  fadeAudio(0,0.4,1500);
  startShow();
};

// fade genérico
function fadeAudio(from,to,duration){
  const steps = Math.max(8, Math.round(duration/100));
  let i=0;
  const iv = setInterval(()=>{
    i++;
    audio.volume = from + (to-from)*(i/steps);
    if(i>=steps) clearInterval(iv);
  }, duration/steps);
}

// fade out final
function fadeOutMusic(){
  const steps = Math.max(8, Math.round(fadeOutDuration/100));
  let i=0, from = audio.volume;
  const iv = setInterval(()=>{
    i++;
    audio.volume = from*(1 - i/steps);
    if(i>=steps){ audio.pause(); clearInterval(iv);}
  }, fadeOutDuration/steps);
}

// início da exibição
function startShow(){
  started = true;
  const startTime = performance.now();
  imgs[0].classList.add('show');
  requestAnimationFrame(function update(){
    const elapsed = performance.now()-startTime;
    const t = Math.min(elapsed,totalDuration);

    // alterna imagens
    const idx = Math.min(imgCount-1, Math.floor(t/imgSwitch));
    imgs.forEach((img,i)=>img.classList.toggle('show',i===idx));

    // scroll proporcional
    const maxScroll = textScroll.scrollHeight - textScroll.clientHeight;
    if(maxScroll>0) textScroll.scrollTop = (t/totalDuration)*maxScroll;

    if(t<totalDuration){
      requestAnimationFrame(update);
    }else{
      fadeOutMusic();
      fadeEnd.classList.add('show');
    }
  });
}
</script>
</body>
</html>
